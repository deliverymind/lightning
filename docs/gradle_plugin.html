<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Lightning</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
</head>
<body data-ng-app="">
<section class="page-header">
    <h1 class="project-name">Lightning</h1>
    <h2 class="project-tagline">Lightning Gradle Plugin</h2>
    <div data-ng-include="'top_level_links.html'"></div>
</section>
<section class="main-content">

    <h3><a id="quick-start-guide" class="anchor" href="#quick-start-guide" aria-hidden="true"></a>Quick start guide</h3>

    <p>This is a Lightning Gradle Plugin usage example.</p>

    <p>Prerequisites:</p>

    <ul>
        <li>Java 8 or above</li>
        <li>Git</li>
        <li>Gradle</li>
    </ul>

    <p>Steps:</p>

    <ul>
        <li>Clone repo with sample project:
            <pre><code>git clone https://github.com/automatictester/lightning-gradle-plugin-example.git</code></pre>
        </li>
        <li>Go to cloned repo directory:
            <pre><code>cd lightning-gradle-plugin-example</code></pre>
        </li>
        <li>Run JMeter results analysis with Lightning Gradle Plugin:
            <pre><code>gradle --no-daemon verify</code></pre>
            You should get console output similar to this:

<pre><code>:verify
Test name:            Failed transactions (%)
Test type:            passedTransactionsTest
Test description:     Verify number of passed tests
Transaction name:     Login
Expected result:      Percent of failed transactions <= 0
Actual result:        Percent of failed transactions = 0
Transaction count:    5
Test result:          Pass

Test name:            Failed transactions
Test type:            passedTransactionsTest
Test description:     Verify number of passed tests
Expected result:      Number of failed transactions <= 0
Actual result:        Number of failed transactions = 0
Transaction count:    10
Test result:          Pass

Test name:            80th percentile
Test type:            nthPercRespTimeTest
Test description:     Verify nth percentile
Transaction name:     Search
Expected result:      80th percentile of transactions have response time <= 11245
Actual result:        80th percentile of transactions have response time = 11221
Transaction count:    5
Longest transactions: [11250, 11221, 11086, 10769, 10626]
Test result:          Pass

============= EXECUTION SUMMARY =============
Tests executed:    3
Tests passed:      3
Tests failed:      0
Tests errors:      0
Test set status:   Pass
Execution time:    5ms
##teamcity[buildStatisticValue key='Failed transactions (%)' value='0']
##teamcity[buildStatisticValue key='Failed transactions' value='0']
##teamcity[buildStatisticValue key='80th percentile' value='11221']

BUILD SUCCESSFUL

Total time: 0.84 secs</code></pre></li>

    <li>JUnit XML report will be saved to <code>junit.xml</code>:

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;testsuite errors="0" failures="0" name="Lightning" tests="2" time="0"&gt;
    &lt;testcase name="JMeter home page - average response time" time="0"/&gt;
    &lt;testcase name="JMeter home page - failed tests" time="0"/&gt;
&lt;/testsuite&gt;
</code></pre>
    </li>

    <li>Properties file for Jenkins Build Name Setter plugin will be saved to <code>lightning-jenkins.properties</code>:

<pre><code>#In Jenkins Build Name Setter Plugin, define build name as: ${BUILD_NUMBER} - ${PROPFILE,file="lightning-jenkins.properties",property="result.string"}
#Tue Feb 14 22:00:16 GMT 2017
result.string=Tests executed\: 3, failed\: 0
</code></pre>
    </li>
    </ul>

    <p>Feel free to play with plugin configuration in <code>build.gradle</code>
        and Lightning config file <code>src/test/resources/xml/example.xml</code>. Once you familiarised yourself with the
        tool, create your own JMeter tests, plugin configuration and plug it into your CI/CD server.</p>

    <h3><a id="maven-central" class="anchor" href="#maven-central" aria-hidden="true"></a>Maven Central</h3>

    <p>Lightning Gradle Plugin is available in <a href="https://search.maven.org/artifact/uk.co.automatictester/lightning-gradle-plugin/"
                                                        target="_blank">Maven Central</a>.
    </p>

    <h3><a id="changelog" class="anchor" href="#changelog" aria-hidden="true"></a>Changelog</h3>

    <p>All new features and bugfixes are included in the <a href="https://github.com/automatictester/lightning/releases" target="_blank">release notes</a>.</p>

    <footer class="site-footer" data-ng-include="'footer.html'"></footer>

</section>


</body>
</html>
