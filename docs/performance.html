<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Lightning</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
</head>
<body data-ng-app="">
<section class="page-header">
    <h1 class="project-name">Lightning</h1>
    <h2 class="project-tagline">Performance</h2>
    <div data-ng-include="'top_level_links.html'"></div>
</section>
<section class="main-content">

    <h3><a id="performance" class="anchor" href="#performance" aria-hidden="true"></a>Performance</h3>

    <p>If you are processing large data sets, you may want to define non-standard initial and maximum Java heap sizes
        (<code>-Xms</code> and <code>-Xmx</code>). If you do so, in vast majority of cases you should set both of them
        to the same value. This is due to aggresive heap usage.</p>

    <p>On my 2017 MacBook with 1,2 GHz Intel Core m3 CPU and 8GB RAM, processing 485MB JMeter CSV file with 15 mln of
        records takes on average 37 seconds with <code>-Xms3g -Xmx3g</code> and 22 seconds with <code>-Xms6g -Xmx6g</code>.
    These are numbers for Lightning standalone JAR 6.0.0.</p>

    <p>To run Lightning standalone JAR with non-default 6GB memory limit:</p>

    <pre><code>java -jar -Xmx6g -Xmx6g ...</code></pre>

    <p>To run Maven plugin with non-default 6GB memory limit:</p>

    <pre><code>MAVEN_OPTS="-Xms6g -Xmx6g" mvn clean verify</code></pre>

    <p>To run Gradle plugin with non-default 6GB memory limit, edit <code>~/.gradle/gradle.properties</code>:</p>

    <pre><code>org.gradle.jvmargs=-Xms6g -Xmx6g</code></pre>

    <p>Run Gradle task:</p>

    <pre><code>gradle --no-daemon verify</code></pre>

    <p>Please note that in most cases, especially when processing large data sets, you wouldn't want to use Gradle
        Daemon.</p>

    <footer class="site-footer" data-ng-include="'footer.html'"></footer>

</section>


</body>
</html>
